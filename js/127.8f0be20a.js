"use strict";(self["webpackChunkmsc_recruitment"]=self["webpackChunkmsc_recruitment"]||[]).push([[127],{127:(e,l,t)=>{t.r(l),t.d(l,{default:()=>E});var i=t(3673);const n={class:"col",style:{"max-width":"1000px",width:"100%"}},a={class:"q-pa-md",style:{width:"100%"}},o=(0,i._)("div",{class:"text-h5"},"你好呀，打算修改你的报名信息吗？",-1),r=(0,i._)("br",null,null,-1),s=(0,i._)("div",{class:"text-h6"},"你叫什么名字？",-1),u=(0,i._)("br",null,null,-1),d=(0,i._)("div",{class:"text-h6"},"你的邮箱是？（用作用户名）",-1),m=(0,i._)("br",null,null,-1),c=(0,i._)("div",{class:"text-h6"},"你的手机号是？（发送面试通知）",-1),_=(0,i._)("div",{class:"text"},"我们不会泄露你的个人信息。",-1),h=(0,i._)("br",null,null,-1),f=(0,i._)("div",{class:"text-h6"},"你的入学年度？（2019，2020，2021）",-1),v=(0,i._)("br",null,null,-1),p=(0,i._)("div",{class:"text-h6"},"你的学号是？",-1),q=(0,i._)("br",null,null,-1),V=(0,i._)("div",{class:"text-h6"},"你是什么专业呢？",-1),b=(0,i._)("br",null,null,-1),H=(0,i._)("div",{class:"text-h6"}," 填写一下QQ号吧？（提供给mentor以便于解答福利题问题） ",-1),g=(0,i._)("br",null,null,-1),W=(0,i._)("div",{class:"text-h6"},"自我介绍一下吧！",-1),Q=(0,i._)("br",null,null,-1),$=(0,i._)("br",null,null,-1);function k(e,l,t,k,w,x){const y=(0,i.up)("q-input"),Z=(0,i.up)("q-btn"),j=(0,i.up)("q-stepper-navigation"),C=(0,i.up)("q-step"),U=(0,i.up)("q-editor"),I=(0,i.up)("q-stepper"),A=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(A,{class:"column items-center"},{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i._)("div",a,[(0,i.Wm)(I,{modelValue:e.step,"onUpdate:modelValue":l[10]||(l[10]=l=>e.step=l),"header-nav":"",ref:"stepper",color:"primary",animated:"",vertical:e.$q.screen.lt.md,flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{name:1,title:"我们开始吧",icon:"send",done:e.done_account,error:e.err_account},{default:(0,i.w5)((()=>[o,r,s,u,(0,i.Wm)(y,{ref:"name_ref",square:"",outlined:"",modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.name=l),label:"姓名",rules:[e=>!!e||"请填写你的姓名"]},null,8,["modelValue","rules"]),d,m,(0,i.Wm)(y,{ref:"email_ref",square:"",outlined:"",modelValue:e.email,"onUpdate:modelValue":l[1]||(l[1]=l=>e.email=l),label:"邮箱",rules:[e=>!!e||"请填写邮箱地址",e.isEmailValid]},null,8,["modelValue","rules"]),c,_,h,(0,i.Wm)(y,{ref:"tel_ref",square:"",outlined:"",modelValue:e.tel,"onUpdate:modelValue":l[2]||(l[2]=l=>e.tel=l),mask:"###########",label:"手机号",rules:[e=>!!e||"请填写手机号",e.isTelValid]},null,8,["modelValue","rules"]),(0,i.Wm)(j,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{unelevated:"",onClick:e.validateAccountInfo,color:"primary",label:"整完了，下一步！"},null,8,["onClick"])])),_:1})])),_:1},8,["done","error"]),(0,i.Wm)(C,{name:2,title:"个人信息",icon:"person",error:e.err_info,done:e.done_info},{default:(0,i.w5)((()=>[f,v,(0,i.Wm)(y,{ref:"level_ref",square:"",outlined:"",modelValue:e.level,"onUpdate:modelValue":l[3]||(l[3]=l=>e.level=l),mask:"####",label:"入学年度",rules:[e=>!!e||"请填写入学年度",e.isLevelValid]},null,8,["modelValue","rules"]),p,q,(0,i.Wm)(y,{ref:"stu_id_ref",square:"",outlined:"",mask:"###########",modelValue:e.stu_id,"onUpdate:modelValue":l[4]||(l[4]=l=>e.stu_id=l),label:"学号",rules:[e=>!!e||"请正确填写学号",e.isStuIdValid]},null,8,["modelValue","rules"]),V,b,(0,i.Wm)(y,{ref:"major_ref",square:"",outlined:"",modelValue:e.major,"onUpdate:modelValue":l[5]||(l[5]=l=>e.major=l),label:"专业",rules:[e=>!!e||"请正确填写专业"]},null,8,["modelValue","rules"]),H,g,(0,i.Wm)(y,{ref:"qq_ref",square:"",outlined:"",modelValue:e.qq,"onUpdate:modelValue":l[6]||(l[6]=l=>e.qq=l),label:"你的QQ号（需要在招新群中）",rules:[e=>!!e||"请填写QQ号",e.isQQValid]},null,8,["modelValue","rules"]),(0,i.Wm)(j,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{unelevated:"",onClick:e.validateInfo,color:"primary",label:"整完了，下一步！"},null,8,["onClick"]),(0,i.Wm)(Z,{flat:"",onClick:l[7]||(l[7]=l=>e.step=1),color:"primary",label:"返回上一步",class:"q-ml-sm"})])),_:1})])),_:1},8,["error","done"]),(0,i.Wm)(C,{name:3,title:"自我介绍",icon:"add_comment",done:e.done_intro,error:e.err_intro},{default:(0,i.w5)((()=>[W,Q,(0,i.Wm)(U,{modelValue:e.intro,"onUpdate:modelValue":l[8]||(l[8]=l=>e.intro=l),"min-height":"10rem"},null,8,["modelValue"]),$,(0,i.Wm)(j,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{unelevated:"",color:"primary",onClick:e.submit,label:"全部完成，提交！"},null,8,["onClick"]),(0,i.Wm)(Z,{flat:"",onClick:l[9]||(l[9]=l=>e.step=2),color:"primary",label:"返回上一步",class:"q-ml-sm"})])),_:1})])),_:1},8,["done","error"])])),_:1},8,["modelValue","vertical"])])])])),_:1})}var w=t(1959),x=t(8825);const y=(0,i.aZ)({name:"Profile",components:{},methods:{isEmailValid(e){const l=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return l.test(e)||(this.done_account=!1,this.err_account=!0),l.test(e)||"邮箱格式不对哦..."},isPassValid(e){const l=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$/;return l.test(e)||(this.done_account=!1,this.err_account=!0),l.test(e)||"密码太弱了！长度至少8位并包含大小写字母与数字，最好还能有特殊符号。"},isStuIdValid(e){if(11!=e.length)return this.done_info=!1,this.err_info=!0,"长度不够啊...";const l=/^(19|20|21)[0-9]{9}$/;return l.test(e)||(this.done_info=!1,this.err_info=!0),l.test(e)||"学号格式不对哦..你真的是西电学生嘛？"},isLevelValid(e){let l=Number.parseInt(e);return-1!=[2019,2020,2021].indexOf(l)&&(this.done_info=!1,this.err_info=!0),-1!=[2019,2020,2021].indexOf(l)||"你真的是西电学生吗？"},isTelValid(e){const l=/^(13[0-9]|14[56789]|15[0-35-9]|16[2567]|17[012345678]|18[0-9]|19[0-9])\d{4}\d{4}$/;return l.test(e)||(this.done_account=!1,this.err_account=!0),l.test(e)||"请使用中国大陆合法手机号！"},isQQValid(e){const l=/^[1-9][0-9]{4,10}$/;return l.test(e)||(this.done_info=!1,this.err_info=!0),l.test(e)||"请正确填写QQ号！"},validateAccountInfo(){var e,l,t;let i=null===(e=this.name_ref)||void 0===e?void 0:e.validate();i&&(i=null===(l=this.email_ref)||void 0===l?void 0:l.validate()),i&&(i=null===(t=this.tel_ref)||void 0===t?void 0:t.validate()),(null===i||void 0===i?void 0:i.valueOf())?(this.err_account=!1,this.done_account=!0,this.step=2):(this.done_account=!1,this.err_account=!0,this.$q.notify({color:"negative",message:"请认真填写!"}))},validateInfo(){var e,l,t,i;let n=null===(e=this.level_ref)||void 0===e?void 0:e.validate();n&&(n=null===(l=this.stu_id_ref)||void 0===l?void 0:l.validate()),n&&(n=null===(t=this.major_ref)||void 0===t?void 0:t.validate()),n&&(n=null===(i=this.qq_ref)||void 0===i?void 0:i.validate()),(null===n||void 0===n?void 0:n.valueOf())?(this.err_info=!1,this.done_info=!0,this.step=3):(this.done_info=!1,this.err_info=!0,this.$q.notify({color:"negative",message:"请认真填写!"}))},submit(){this.$q.notify({spinner:!0,message:"修改中，请稍候...",timeout:3e3}),this.err_account||this.err_info||this.err_intro||!this.done_account||!this.done_info?this.$q.notify({color:"negative",message:"请检查是否有填写错误！"}):this.$api.put("/api/account/me",{name:this.name,email:this.email,"student-id":this.stu_id,major:this.major,telephone:this.tel,qq:this.qq,level:this.level,intro:this.intro}).then((e=>{0!=e.data.code?this.$q.notify({color:"negative",message:e.data.msg}):this.$q.notify({color:"positive",message:"修改成功"})}))}},mounted:function(){this.$api.get("/api/account/me").then((e=>{let l=e.data.data;console.log(l);let t=l;this.name=t.name,this.stu_id=t["student-id"],this.major=t.major,this.tel=t.telephone,this.email=t.email,this.qq=t.qq,this.level=t.level,this.intro=t.intro}))},setup(){const e=(0,x.Z)(),l=(0,w.iH)(""),t=(0,w.iH)(""),i=(0,w.iH)(""),n=(0,w.iH)(""),a=(0,w.iH)(""),o=(0,w.iH)(""),r=(0,w.iH)(""),s=(0,w.iH)("");return{$q:e,step:(0,w.iH)(1),done_account:(0,w.iH)(!1),err_account:(0,w.iH)(!1),done_info:(0,w.iH)(!1),err_info:(0,w.iH)(!1),done_intro:(0,w.iH)(!1),err_intro:(0,w.iH)(!1),done_human:(0,w.iH)(!1),err_human:(0,w.iH)(!1),name_ref:(0,w.iH)(),email_ref:(0,w.iH)(),intro_ref:(0,w.iH)(),qq_ref:(0,w.iH)(),tel_ref:(0,w.iH)(),stu_id_ref:(0,w.iH)(),major_ref:(0,w.iH)(),level_ref:(0,w.iH)(),name:l,stu_id:t,intro:i,qq:n,tel:a,email:o,major:r,level:s}}});var Z=t(4379),j=t(3518),C=t(4340),U=t(4842),I=t(118),A=t(2165),z=t(4592),S=t(7518),O=t.n(S);y.render=k;const E=y;O()(y,"components",{QPage:Z.Z,QStepper:j.Z,QStep:C.Z,QInput:U.Z,QStepperNavigation:I.Z,QBtn:A.Z,QEditor:z.Z})}}]);