"use strict";(self["webpackChunkmsc_recruitment"]=self["webpackChunkmsc_recruitment"]||[]).push([[97],{9097:(e,l,t)=>{t.r(l),t.d(l,{default:()=>L});var a=t(3673),o=t(2323);(0,a.dD)("data-v-00ce600a");const n=(0,a._)("img",{src:"icons/icon.svg"},null,-1),i=(0,a.Uk)(" 西电微软学生俱乐部  |  招新 "),u=(0,a.Uk)(" 登录 "),r=(0,a.Uk)(" 注册（报名加入） "),d=(0,a.Uk)("主页"),s=(0,a.Uk)("部门"),c=(0,a.Uk)("人物"),m=(0,a.Uk)("福利题"),w=(0,a.Uk)("登录"),f=(0,a.Uk)("注册（报名加入）"),k=(0,a.Uk)("退出"),g=(0,a._)("div",{class:"flex flex-center"},[(0,a.Uk)(" Copyright © 2020-2021 西电微软学生俱乐部     |     "),(0,a._)("a",{style:{"text-decoration":"none",color:"#333333","letter-spacing":"1px"},href:"http://beian.miit.gov.cn"},"滇ICP备14005090号")],-1);function p(e,l,t,p,_,b){const q=(0,a.up)("q-avatar"),W=(0,a.up)("q-toolbar-title"),h=(0,a.up)("q-route-tab"),y=(0,a.up)("q-tabs"),v=(0,a.up)("q-space"),Z=(0,a.up)("q-btn"),Q=(0,a.up)("q-toolbar"),S=(0,a.up)("q-header"),U=(0,a.up)("q-item-section"),x=(0,a.up)("q-item"),C=(0,a.up)("q-list"),j=(0,a.up)("q-drawer"),I=(0,a.up)("router-view"),H=(0,a.up)("q-page-container"),V=(0,a.up)("q-footer"),T=(0,a.up)("q-layout"),z=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(T,{view:"hHh lpr fff"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{class:"text-black row no-wrap items-center q-px-none",style:{"background-color":"#f0f0f0"}},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{class:"q-ml-md"},{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(W,{shrink:"",style:{"font-size":"16px","font-weight":"600"}},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(y,{stretch:!0,shrink:!1,"narrow-indicator":"","indicator-color":"blue",modelValue:e.tab,"onUpdate:modelValue":l[0]||(l[0]=l=>e.tab=l),class:"hidden-in-mobile"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{to:"index",name:"index",label:"简介"}),(0,a.Wm)(h,{to:"department",name:"department",label:"部门"}),(0,a.Wm)(h,{to:"mentors",name:"mentors",label:"人物"}),(0,a.Wm)(h,{to:"questions",name:"questions",label:"福利题"}),e.is_admin?((0,a.wg)(),(0,a.j4)(h,{key:0,to:"admin",name:"admin_site",label:"后台管理"})):(0,a.kq)("",!0)])),_:1},8,["modelValue"]),(0,a.Wm)(v),e.login?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(Z,{key:0,class:"hidden-in-mobile",to:"login",flat:"",stretch:""},{default:(0,a.w5)((()=>[u])),_:1})),e.login?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(Z,{key:1,class:"hidden-in-mobile",to:"register",flat:"",stretch:""},{default:(0,a.w5)((()=>[r])),_:1})),e.login?((0,a.wg)(),(0,a.j4)(Z,{key:2,class:"hidden-in-mobile",to:"profile",flat:"",stretch:""},{default:(0,a.w5)((()=>[(0,a.Uk)("你好，"+(0,o.zw)(e.user_name),1)])),_:1})):(0,a.kq)("",!0),e.login?((0,a.wg)(),(0,a.j4)(Z,{key:3,class:"hidden-in-mobile",flat:"",stretch:"",icon:"logout",onClick:e.logout},null,8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(Z,{class:"show-in-mobile",flat:"",stretch:"",icon:"menu",onClick:e.toggleSideBar},null,8,["onClick"])])),_:1})])),_:1}),e.side_bar_open?((0,a.wg)(),(0,a.j4)(j,{key:0,"show-if-above":"",modelValue:e.side_bar_open,"onUpdate:modelValue":l[1]||(l[1]=l=>e.side_bar_open=l),side:"right",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(x,{clickable:"",to:"index"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[d])),_:1})])),_:1},512),[[z]]),(0,a.wy)((0,a.Wm)(x,{clickable:"",to:"department"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[s])),_:1})])),_:1},512),[[z]]),(0,a.wy)((0,a.Wm)(x,{clickable:"",to:"mentors"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[c])),_:1})])),_:1},512),[[z]]),(0,a.wy)((0,a.Wm)(x,{clickable:"",to:"questions"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[m])),_:1})])),_:1},512),[[z]]),e.login?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.j4)(x,{key:0,clickable:"",to:"login"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[w])),_:1})])),_:1},512)),[[z]]),e.login?(0,a.kq)("",!0):(0,a.wy)(((0,a.wg)(),(0,a.j4)(x,{key:1,clickable:"",to:"register"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[f])),_:1})])),_:1},512)),[[z]]),e.login?(0,a.wy)(((0,a.wg)(),(0,a.j4)(x,{key:2,clickable:"",to:"profile"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Uk)("你好，"+(0,o.zw)(e.user_name),1)])),_:1})])),_:1},512)),[[z]]):(0,a.kq)("",!0),e.login?(0,a.wy)(((0,a.wg)(),(0,a.j4)(x,{key:3,clickable:"",onClick:e.logout},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[k])),_:1})])),_:1},8,["onClick"])),[[z]]):(0,a.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])):(0,a.kq)("",!0),(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I)])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{class:"text-black row no-wrap items-center q-px-none",style:{"background-color":"#dddddd"}},{default:(0,a.w5)((()=>[(0,a.Wm)(v),g,(0,a.Wm)(v)])),_:1})])),_:1})])),_:1})}(0,a.Cn)();var _=t(1959),b=t(4276);const q=(0,a.aZ)({name:"MainLayout",components:{},methods:{logout(){this.$api.get("/api/account/logout").then((()=>{localStorage.clear(),location.reload()}))}},setup(){const e=localStorage.getItem("token");e&&"undefined"!==e||localStorage.removeItem("token");const l=(0,_.iH)(!1),t=(0,_.iH)(""),a=(0,_.iH)(!1);if(e&&"undefined"!==e){const o=e.split(".")[1];console.log(o);let n=b.DS.decode(o),i=JSON.parse(n);t.value=i.name,l.value=!0,localStorage.setItem("login","true"),localStorage.setItem("user-id",i["user-id"].toString()),a.value=i.admin,localStorage.setItem("admin",i.admin?"true":"false")}else localStorage.setItem("login","false"),localStorage.setItem("admin","false");const o=(0,_.iH)(!1);function n(){o.value=!o.value}return{tab:(0,_.iH)("index"),login:l,user_name:t,is_admin:a,side_bar_open:o,toggleSideBar:n}}});var W=t(3066),h=t(3812),y=t(9570),v=t(5096),Z=t(3747),Q=t(7547),S=t(208),U=t(2025),x=t(2165),C=t(6873),j=t(7011),I=t(3414),H=t(2035),V=t(2652),T=t(1762),z=t(6489),B=t(7518),D=t.n(B);q.render=p,q.__scopeId="data-v-00ce600a";const L=q;D()(q,"components",{QLayout:W.Z,QHeader:h.Z,QToolbar:y.Z,QAvatar:v.Z,QToolbarTitle:Z.Z,QTabs:Q.Z,QRouteTab:S.Z,QSpace:U.Z,QBtn:x.Z,QDrawer:C.Z,QList:j.Z,QItem:I.Z,QItemSection:H.Z,QPageContainer:V.Z,QFooter:T.Z}),D()(q,"directives",{Ripple:z.Z})}}]);